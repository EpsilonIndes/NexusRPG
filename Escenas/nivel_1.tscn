[gd_scene load_steps=18 format=3 uid="uid://cjswe57kq821f"]

[ext_resource type="PackedScene" uid="uid://bmocargan5l0q" path="res://Escenas/player.tscn" id="1_a8vtw"]
[ext_resource type="Script" path="res://Scripts/InventoryManager.gd" id="2_5j2cu"]
[ext_resource type="PackedScene" uid="uid://dbcn88xgtkshp" path="res://Escenas/Personajes/miguelito.tscn" id="2_csbrw"]
[ext_resource type="PackedScene" uid="uid://ddbnhhajofjkw" path="res://Escenas/Personajes/chipita_seguidora.tscn" id="3_34qh6"]
[ext_resource type="PackedScene" uid="uid://ckhl1sgngkvhd" path="res://Escenas/Personajes/Sigrid.tscn" id="4_bjhsu"]
[ext_resource type="PackedScene" uid="uid://ecyr37wcvpst" path="res://Escenas/canvas_layer.tscn" id="4_j23ur"]
[ext_resource type="PackedScene" uid="uid://qh76bv7y2534" path="res://Escenas/InventoryUI.tscn" id="5_gjkhy"]
[ext_resource type="PackedScene" uid="uid://dkn8gxfmy5tm6" path="res://Escenas/label_dialogue.tscn" id="6_dp2kd"]
[ext_resource type="Script" path="res://Scripts/InsatanciadorPJ.gd" id="6_onnpr"]
[ext_resource type="PackedScene" uid="uid://d0pklwxlyct8i" path="res://Models/Interactuables/Cofre.tscn" id="9_qe0o7"]
[ext_resource type="Script" path="res://Scripts/Cubiletrero.gd" id="10_mb4ff"]
[ext_resource type="Material" uid="uid://c0jjtywjdsume" path="res://Materiales/Textura_Cubiletrero.tres" id="11_fhdji"]

[sub_resource type="NavigationMesh" id="NavigationMesh_p4rn7"]
vertices = PackedVector3Array(-9.38201, 0.5, -9.11942, -9.38201, 0.5, 9.13058, 9.36799, 0.5, 9.13058, 9.36799, 0.5, -9.11942)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="PlaneMesh" id="PlaneMesh_tefin"]

[sub_resource type="Environment" id="Environment_njs3v"]
background_mode = 1
background_color = Color(7.70092e-07, 0.661235, 0.874662, 1)
ambient_light_source = 2
ambient_light_color = Color(0.686275, 0.917647, 0.988235, 0.372549)

[sub_resource type="BoxMesh" id="BoxMesh_oluom"]

[sub_resource type="BoxShape3D" id="BoxShape3D_k26f6"]
size = Vector3(1, 0.981689, 1)

[node name="Nivel1" type="Node"]

[node name="Personajes" type="Node" parent="."]

[node name="Player" parent="Personajes" instance=ExtResource("1_a8vtw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.82957, -1.41913)

[node name="MiguelitoNPC" parent="Personajes" instance=ExtResource("2_csbrw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.779405, -4.18304)

[node name="Chipita_Seguidora" parent="Personajes" instance=ExtResource("3_34qh6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.757282, 0)
kosmo_path = NodePath("../Player")
speed = 180.0

[node name="Sigrid" parent="Personajes" instance=ExtResource("4_bjhsu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.80846, 0.754549, 0)
kosmo_path = NodePath("../Player")

[node name="Terreno" type="Node" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Terreno"]
transform = Transform3D(1, 0, 0, -1.10692e-11, 0.999929, -0.0118854, 9.31257e-10, 0.0118854, 0.999929, 0, 0, 0)
navigation_mesh = SubResource("NavigationMesh_p4rn7")

[node name="CSGMesh3D" type="CSGMesh3D" parent="Terreno/NavigationRegion3D"]
transform = Transform3D(9.88201, 0, 0, 0, 7.91547, 0, 0, 0, 9.61942, 0, 0, 0)
mesh = SubResource("PlaneMesh_tefin")

[node name="Iluminación" type="Node" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Iluminación"]
transform = Transform3D(0.749845, -0.036311, -0.660617, 0.589674, 0.489476, 0.642416, 0.300029, -0.871261, 0.388442, 0, 6.39511, 0)
shadow_enabled = true

[node name="gameManager" type="Node" parent="."]

[node name="InventoryManager" type="Node" parent="gameManager"]
script = ExtResource("2_5j2cu")

[node name="ItemDatabase" type="Node" parent="gameManager/InventoryManager"]

[node name="DialogueSistem" type="Node" parent="gameManager"]

[node name="PersonajesJugables" type="Node" parent="gameManager"]
script = ExtResource("6_onnpr")

[node name="CanvasLayer" parent="." instance=ExtResource("4_j23ur")]

[node name="InventoryUI" parent="CanvasLayer" instance=ExtResource("5_gjkhy")]
offset_left = 30.0
offset_top = 13.0
offset_right = 30.0
offset_bottom = 13.0

[node name="LabelDialogue" parent="CanvasLayer" instance=ExtResource("6_dp2kd")]
offset_left = 66.0
offset_top = 276.0
offset_right = 562.0
offset_bottom = 454.0
scale = Vector2(2.0051, 2.0051)

[node name="Entorno" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Entorno"]
environment = SubResource("Environment_njs3v")

[node name="Interactuable" type="Node" parent="."]

[node name="CofreCommon" parent="Interactuable" instance=ExtResource("9_qe0o7")]
transform = Transform3D(0.542, 0, 0, 0, 0.542, 0, 0, 0, 0.542, -5.76845, 0.0335645, -6.45479)

[node name="CofreCommon2" parent="Interactuable" instance=ExtResource("9_qe0o7")]
transform = Transform3D(0.542, 0, 0, 0, 0.542, 0, 0, 0, 0.542, -3.41437, 0.0335645, -6.45479)
loot_id = "chest_02"

[node name="Cubiletrero" type="Node3D" parent="Interactuable" groups=["interactuables"]]
transform = Transform3D(0.560523, 0.0732069, 0.201134, 0, 0.563816, -0.205212, -0.214043, 0.19171, 0.526719, 6.86302, 0.230015, -6.54142)
script = ExtResource("10_mb4ff")

[node name="StaticBody3D" type="StaticBody3D" parent="Interactuable/Cubiletrero"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Interactuable/Cubiletrero/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, -1.86265e-09, 0, 1, 0, 0.304871, 0)
material_override = ExtResource("11_fhdji")
cast_shadow = 0
mesh = SubResource("BoxMesh_oluom")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactuable/Cubiletrero/StaticBody3D"]
transform = Transform3D(1, 0, 3.72529e-09, 0, 1, 0, 0, 0, 1, 0, 0.313355, 0)
shape = SubResource("BoxShape3D_k26f6")
